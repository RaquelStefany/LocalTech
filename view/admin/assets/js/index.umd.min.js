!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TypeIt=t()}(this,function(){"use strict";var t=e=>Array.isArray(e),E=e=>t(e)?e:[e];function x(e){function t(e){return n=n.concat(E(e)),this}let n=[];return t(e),{add:t,set:function(e,t){n[e]=t},reset:function(){n=n.map(e=>(delete e.done,e))},wipe:function(){n=[],t(e)},getItems:(t=!1)=>n.filter(e=>t||!e.done),markDone:e=>{n[e].done=!0}}}var n=e=>Array.from(e),i=e=>document.createTextNode(e);let k=e=>([...e.childNodes].forEach(t=>t.nodeValue?([...t.nodeValue].forEach(e=>{t.parentNode.insertBefore(i(e),t)}),void t.remove()):void k(t)),e);var C=e=>{let t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,k(t.body)};const H="data-typeit-id",I="ti-cursor",P="START",z={started:!1,completed:!1,frozen:!1,destroyed:!1},A={breakLines:!0,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}};function u(e,t=!1){let n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:e=>{return null!=(e=null==e?void 0:e.classList)&&e.contains(I)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),i,r=[];for(;i=n.nextNode();)i.originalParent=i.parentNode,r.push(i);return t?r.reverse():r}function O(e,t=!0){return t?u(C(e)):n(e).map(i)}var R=e=>document.createElement(e),B=(e,t="")=>{let n=R("style");n.id=t,n.appendChild(i(e)),document.head.appendChild(n)};let F=e=>Number.isInteger(e),V=(e,t=document,n=!1)=>t[`querySelector${n?"All":""}`](e);var j=e=>"value"in e;let _=e=>j(e)?n(e.value):u(e,!0).filter(e=>!(0<e.childNodes.length)),r=(e,t,n=P)=>{let i=new RegExp("END","i").test(n),r=e?V(e,t):t,a=u(r,!0),l=a[0],o=a[a.length-1],s=i&&!e?0:_(t).findIndex(e=>e.isSameNode(i?l:o));return i&&s--,s+1};var U=({el:e,move:t,cursorPos:n,to:i})=>F(t)?-1*t:r(t,e,i)-n,W=e=>e=t(e)?e:[e/2,e/2],q=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));let J=e=>e/2;let Q=e=>"function"==typeof e?e():e,Y=e=>"BODY"===(null==e?void 0:e.tagName);var G=(e,t)=>Object.assign({},e,t),K=t=>{if(t){let e=t.parentNode;(1<e.childNodes.length?t:e).remove()}};let X={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"","margin-left":"-.125em","margin-right":".125em"};return function(e,t={}){let a=async(e,t,n=!1)=>{var i,r,a;S.frozen&&await new Promise(e=>{this.unfreeze=()=>{S.frozen=!1,e()}}),n||await L.beforeStep(this),i=e,r=t,a=w,await new Promise(e=>{a.push(setTimeout(async()=>{await i(),e()},r))}),n||await L.afterStep(this)},l=()=>j(b),o=e=>function(e){let{speed:t,deleteSpeed:n,lifeLike:i}=e;return n=null!==n?n:t/3,i?[q(t,J(t)),q(n,J(n))]:[t,n]}(L)[e],s=()=>_(b),u=(e,t=0)=>e?o(t):0,d=(e,t)=>(N.add(e),((e={})=>{let t=e.delay;t&&N.add(()=>i(t))})(t),this),c=(e={})=>[()=>n(e),()=>n(L)],r=e=>{let t=L.nextStringDelay;N.add([()=>i(t[0]),...e,()=>i(t[1])])},h=async()=>{l()||b.appendChild(M),D&&((e,t,n)=>{let i=`${`[${H}='${e}']`} .${I}`,r=getComputedStyle(n),a=Object.entries(X).reduce((e,[t,n])=>`${e} ${t}: var(--ti-cursor-${t}, ${n||r[t]});`,"");B(`@keyframes blink-${e} { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ${i} { display: inline; letter-spacing: -1em; ${a} animation: blink-${e} ${t.cursorSpeed/1e3}s infinite; } ${i}.with-delay { animation-delay: 500ms; } ${i}.disabled { animation: none; }`,e)})($,L,b)},f=e=>{D&&(M.classList.toggle("disabled",e),M.classList.toggle("with-delay",!e))},m=async()=>{S.started=!0;let n=N.getItems();try{for(let e=0;e<n.length;e++)await n[e](),N.markDone(e),f(!1);if(S.completed=!0,await L.afterComplete(this),!L.loop)throw"";let t=L.loopDelay;a(async()=>{var e;e=t[0],T&&await p({value:T}),N.reset(),N.set(0,()=>i(e)),await v({num:null}),m()},t[1])}catch{}return this},i=(e=0)=>a(()=>{},e),p=async({value:e,to:t=P,instant:n=!1})=>{f(!0);let i=U({el:b,move:e,cursorPos:T,to:t}),r=()=>{var e,t,n;T=(e=i<0?-1:1,t=T,n=s(),Math.min(Math.max(t+e,0),n.length)),((e,t,n)=>{t=t[n-1],n=V(`.${I}`,e);(e=(null==t?void 0:t.parentNode)||e).insertBefore(n,t||null)})(b,s(),T)};await a(async()=>{for(let e=0;e<Math.abs(i);e++)n?r():await a(r,o(0))},u(n))},y=({chars:n,silent:e=!1,instant:i=!1})=>(f(!0),a(async()=>{let t=e=>((t,n)=>{if(j(t))t.value=`${t.value}${n.textContent}`;else{n.innerHTML="";let e=!Y(n.originalParent)&&n.originalParent||t;e.insertBefore(n,V("."+I,e)||null)}})(b,e);e||await L.beforeString(n,this);for(let e of n)i||/<(.+)>(.*?)<\/(.+)>/.test(e.outerHTML)?t(e):await a(()=>t(e),o(0));e||await L.afterString(n,this)},u(i),!0)),n=async e=>{L=G(L,e)},g=async()=>{l()?b.value="":s().forEach(e=>{K(e)})},v=async({num:e=null,instant:i=!1,to:r=P})=>{f(!0),await a(async()=>{var t=null===e?s().length:F(e)?e:U({el:b,move:e,cursorPos:T,to:r}),n=()=>{var e=s();e.length&&(l()?b.value=b.value.slice(0,-1):K(e[T]))};for(let e=0;e<t;e++)i?n():await a(n,o(1))},u(i,1)),null===e&&0<s().length-1&&await v({num:null})};this.break=function(e){return d(()=>y({chars:[R("BR")],silent:!0}),e)},this.delete=function(e=null,t={}){e=Q(e);let n=c(t),i=e,{instant:r,to:a}=t;return d([n[0],()=>v({num:i,instant:r,to:a}),n[1]],t)},this.empty=function(e={}){return d(g,e)},this.exec=function(e,t){var n=c(t);return d([n[0],()=>e(this),n[1]],t)},this.move=function(e,t={}){e=Q(e);let n=c(t),{instant:i,to:r}=t,a={value:null===e?"":e,to:r,instant:i};return d([n[0],()=>p(a),n[1]],t)},this.options=function(e){return e=Q(e),d(()=>n(e),e)},this.pause=function(e,t={}){return d(()=>i(Q(e)),t)},this.type=function(e,t={}){e=Q(e);let n=c(t),i=O(e,L.html),r=t["instant"],a=[n[0],()=>y({chars:i,instant:r}),n[1]];return d(a,t)},this.is=function(e){return S[e]},this.destroy=function(e=!0){w=(w.forEach(e=>clearTimeout(e)),[]),Q(e)&&K(M),S.destroyed=!0},this.freeze=function(){S.frozen=!0},this.unfreeze=function(){},this.reset=function(e){for(var t in this.is("destroyed")||this.destroy(),e?(N.wipe(),e(this)):N.reset(),T=0,S)S[t]=!1;return b[l()?"value":"innerHTML"]="",this},this.go=function(){return S.started||(h(),L.waitUntilVisible?(n=b,i=m.bind(this),new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(i(),t.unobserve(n))})},{threshold:1}).observe(n)):m()),this;var n,i},this.getQueue=()=>N,this.getOptions=()=>L,this.updateOptions=e=>n(e),this.getElement=()=>b;let b="string"==typeof(e=e)?V(e):e,w=[],T=0,S=G({},z),L=G(A,t);L=G(L,{html:!l()&&L.html,nextStringDelay:W(L.nextStringDelay),loopDelay:W(L.loopDelay)});let $=Math.random().toString().substring(2,9),N=x([()=>i(L.startDelay)]);b.dataset.typeitId=$,B(`[${H}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`);let D=L.cursor&&!l(),M=(()=>{if(!l()){let e=R("span");return e.className=I,D?e.innerHTML=C(L.cursorChar).innerHTML:e.style.visibility="hidden",e}})();L.strings=(e=>{let t=b.innerHTML;return t?(b.innerHTML="",L.startDelete?(b.innerHTML=t,k(b),r([()=>v({num:null})]),e):t.trim().split(/<br(?:\s*?)(?:\/)?>/).concat(e)):e})(E(L.strings)),L.strings.length&&(()=>{let i=L.strings.filter(e=>!!e);i.forEach((e,t)=>{let n=O(e,L.html);N.add(()=>y({chars:n})),t+1!==i.length&&(t=[L.breakLines?()=>y({chars:[R("BR")],silent:!0}):()=>v({num:n.length})],r(t))})})()}});